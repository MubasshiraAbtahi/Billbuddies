{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useCallback } from 'react';\nimport apiClient from '../utils/api';\nexport const useScanReceipt = () => {\n  _s();\n  const scanReceipt = useCallback(async imageFile => {\n    try {\n      const formData = new FormData();\n      formData.append('receipt', imageFile);\n      const response = await apiClient.post('/scanner/scan', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }, []);\n  const createExpenseFromScan = useCallback(async (scanData, groupId, splits) => {\n    try {\n      const expenseData = {\n        groupId,\n        title: scanData.data.merchant || 'Scanned Expense',\n        amount: scanData.data.total,\n        currency: scanData.data.currency,\n        category: 'Food',\n        // Could be improved with ML\n        items: scanData.data.items,\n        tax: scanData.data.tax,\n        tip: scanData.data.tip,\n        merchant: scanData.data.merchant,\n        date: scanData.data.date,\n        imagePath: scanData.imageUrl,\n        splits\n      };\n      const response = await apiClient.post('/scanner/create-expense', expenseData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }, []);\n  return {\n    scanReceipt,\n    createExpenseFromScan\n  };\n};\n_s(useScanReceipt, \"XTVL0NbnAEomKau369O0MKbZ2i8=\");","map":{"version":3,"names":["React","useCallback","apiClient","useScanReceipt","_s","scanReceipt","imageFile","formData","FormData","append","response","post","headers","data","error","createExpenseFromScan","scanData","groupId","splits","expenseData","title","merchant","amount","total","currency","category","items","tax","tip","date","imagePath","imageUrl"],"sources":["C:/Users/User/Billbuddies/myproject/frontend/src/utils/useScanReceipt.js"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport apiClient from '../utils/api';\r\n\r\nexport const useScanReceipt = () => {\r\n  const scanReceipt = useCallback(async (imageFile) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('receipt', imageFile);\r\n\r\n      const response = await apiClient.post('/scanner/scan', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  const createExpenseFromScan = useCallback(async (scanData, groupId, splits) => {\r\n    try {\r\n      const expenseData = {\r\n        groupId,\r\n        title: scanData.data.merchant || 'Scanned Expense',\r\n        amount: scanData.data.total,\r\n        currency: scanData.data.currency,\r\n        category: 'Food', // Could be improved with ML\r\n        items: scanData.data.items,\r\n        tax: scanData.data.tax,\r\n        tip: scanData.data.tip,\r\n        merchant: scanData.data.merchant,\r\n        date: scanData.data.date,\r\n        imagePath: scanData.imageUrl,\r\n        splits,\r\n      };\r\n\r\n      const response = await apiClient.post('/scanner/create-expense', expenseData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    scanReceipt,\r\n    createExpenseFromScan,\r\n  };\r\n};\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,OAAOC,SAAS,MAAM,cAAc;AAEpC,OAAO,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAMC,WAAW,GAAGJ,WAAW,CAAC,MAAOK,SAAS,IAAK;IACnD,IAAI;MACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEH,SAAS,CAAC;MAErC,MAAMI,QAAQ,GAAG,MAAMR,SAAS,CAACS,IAAI,CAAC,eAAe,EAAEJ,QAAQ,EAAE;QAC/DK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,OAAOF,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,qBAAqB,GAAGd,WAAW,CAAC,OAAOe,QAAQ,EAAEC,OAAO,EAAEC,MAAM,KAAK;IAC7E,IAAI;MACF,MAAMC,WAAW,GAAG;QAClBF,OAAO;QACPG,KAAK,EAAEJ,QAAQ,CAACH,IAAI,CAACQ,QAAQ,IAAI,iBAAiB;QAClDC,MAAM,EAAEN,QAAQ,CAACH,IAAI,CAACU,KAAK;QAC3BC,QAAQ,EAAER,QAAQ,CAACH,IAAI,CAACW,QAAQ;QAChCC,QAAQ,EAAE,MAAM;QAAE;QAClBC,KAAK,EAAEV,QAAQ,CAACH,IAAI,CAACa,KAAK;QAC1BC,GAAG,EAAEX,QAAQ,CAACH,IAAI,CAACc,GAAG;QACtBC,GAAG,EAAEZ,QAAQ,CAACH,IAAI,CAACe,GAAG;QACtBP,QAAQ,EAAEL,QAAQ,CAACH,IAAI,CAACQ,QAAQ;QAChCQ,IAAI,EAAEb,QAAQ,CAACH,IAAI,CAACgB,IAAI;QACxBC,SAAS,EAAEd,QAAQ,CAACe,QAAQ;QAC5Bb;MACF,CAAC;MAED,MAAMR,QAAQ,GAAG,MAAMR,SAAS,CAACS,IAAI,CAAC,yBAAyB,EAAEQ,WAAW,CAAC;MAC7E,OAAOT,QAAQ,CAACG,IAAI;IACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLT,WAAW;IACXU;EACF,CAAC;AACH,CAAC;AAACX,EAAA,CA9CWD,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}